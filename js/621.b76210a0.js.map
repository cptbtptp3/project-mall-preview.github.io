{"version":3,"file":"js/621.b76210a0.js","mappings":"iJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAeJ,EAAIK,GAAIL,EAAIM,QAAQ,SAASC,EAAKC,GAAO,OAAON,EAAG,MAAM,CAACE,YAAY,mBAAmBK,MAAM,CAACC,OAAOV,EAAIW,eAAiBH,GAAOI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,UAAUN,EAAM,IAAI,CAACN,EAAG,OAAO,CAACF,EAAIe,GAAGf,EAAIgB,GAAGT,OAAU,IAAG,EAC9U,EACIU,EAAkB,GCOtB,GACAC,KAAAA,aACAC,MAAAA,CACAb,OAAAA,CACAc,KAAAA,MACAC,UACA,QACA,IAGAC,OACA,OAAAX,aAAAA,EACA,EACAY,QAAAA,CACAT,UAAAA,GACA,oBACA,wBACA,IC1B4Q,I,UCQxQU,GAAY,OACd,EACAzB,EACAkB,GACA,EACA,KACA,WACA,MAIF,EAAeO,EAAiB,O,oECnBhC,IAAIzB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,UAAU,CAACE,YAAY,UAAUqB,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAAC5B,EAAIe,GAAG,QAAQ,EAAEc,OAAM,OAAU3B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,gBAAgB,CAAC4B,MAAM,CAAC,WAAa9B,EAAI+B,YAAYnB,GAAG,CAAC,WAAaZ,EAAIgC,cAAc9B,EAAG,SAAS,CAAC+B,IAAI,SAAS7B,YAAY,cAAc0B,MAAM,CAAC,KAAO,CAAC9B,EAAIkC,cAAc,aAAa,EAAE,YAAa,EAAK,iBAAgB,GAAMtB,GAAG,CAAC,OAASZ,EAAImC,SAAS,CAACjC,EAAG,MAAM,CAACA,EAAG,cAAc,CAAC4B,MAAM,CAAC,cAAgB9B,EAAIoC,mBAAmBlC,EAAG,iBAAiB,CAAC4B,MAAM,CAAC,iBAAiB9B,EAAIqC,sBAAsB,MAAM,GAAGnC,EAAG,WAAW,CAACoC,WAAW,CAAC,CAACpB,KAAK,OAAOqB,QAAQ,SAASC,MAAOxC,EAAIyC,QAASC,WAAW,YAAYC,SAAS,CAAC,MAAQ,SAAS9B,GAAQ,OAAOb,EAAI4C,QAAQC,MAAM,KAAMC,UAAU,MAAM,EACt1B,EACI7B,EAAkB,G,UCFlBlB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAAC+B,IAAI,UAAU7B,YAAY,UAAU0B,MAAM,CAAC,YAAa,EAAK,iBAAgB,IAAO9B,EAAIK,GAAIL,EAAI+B,YAAY,SAASxB,EAAKC,GAAO,OAAON,EAAG,MAAM,CAACyB,IAAInB,EAAMJ,YAAY,QAAQK,MAAM,CAACC,OAAOF,IAAQR,EAAIW,cAAcC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI+C,WAAWvC,EAAM,IAAI,CAACR,EAAIe,GAAG,IAAIf,EAAIgB,GAAGT,EAAKyC,SAAS,IAAG,IAAI,EAC5a,EACI/B,EAAkB,G,UCatB,GACAC,KAAAA,eACA+B,WAAAA,CACAC,OAAAA,EAAAA,GAEA/B,MAAAA,CACAY,WAAAA,OAEAT,OACA,OACAX,aAAAA,EAEA,EACAY,QAAAA,CACAwB,WAAAA,GACA,oBACA,0BACA,IChC8Q,I,UCQ1QvB,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAeA,EAAiB,QCnB5BzB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAEF,EAAImD,cAAcC,KAAMlD,EAAG,YAAY,CAACE,YAAY,OAAO0B,MAAM,CAAC,KAAO,EAAE,UAAY,GAAG,WAAW,KAAK9B,EAAIK,GAAIL,EAAImD,cAAcC,MAAM,SAAS7C,EAAKC,GAAO,OAAON,EAAG,MAAM,CAACyB,IAAInB,EAAMJ,YAAY,eAAe,CAACF,EAAG,IAAI,CAAC4B,MAAM,CAAC,KAAOvB,EAAK8C,QAAQnD,EAAG,MAAM,CAACE,YAAY,QAAQ0B,MAAM,CAAC,IAAMvB,EAAK+C,MAAM,IAAM,MAAMpD,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGT,EAAKyC,WAAW,IAAG,GAAGhD,EAAIuD,MAAM,EACtd,EACItC,EAAkB,GCFlBlB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAC+B,IAAI,WAAW7B,YAAY,aAAa,CAACJ,EAAIwD,GAAG,YAAY,EACzI,EACIvC,EAAkB,GCKtB,GACAC,KAAAA,WACAC,MAAAA,CACAsC,KAAAA,CACArC,KAAAA,OACAC,QAAAA,GAEAqC,QAAAA,CACAtC,KAAAA,OACAC,QAAAA,GAEAsC,QAAAA,CACAvC,KAAAA,OACAC,QAAAA,GAEAuC,UAAAA,CACAxC,KAAAA,OACAC,QAAAA,GAEAwC,UAAAA,CACAzC,KAAAA,OACAC,QAAAA,IAGAyC,UACAC,WAAAA,KAAAA,YAAAA,GACA,EACAC,UACA,kBACA,EACAzC,QAAAA,CACA0C,cAIA,0BACA,aAEAC,EAAAA,MAAAA,QAAAA,GAAAA,KAAAA,aAAAA,KAAAA,YAEA,wEACA,4BACA,WACA3D,EAAAA,MAAAA,MAAAA,EAAAA,MACA,qBACAA,EAAAA,MAAAA,YAAAA,KAAAA,UAAAA,MAEA,eACAA,EAAAA,MAAAA,UAAAA,KAAAA,UAAAA,KAEA,CACA,IC1D0Q,ICQtQ,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,QCEhC,GACAW,KAAAA,aACAC,MAAAA,CACAgC,cAAAA,QAEAF,WAAAA,CACAkB,SAAAA,IC3B4Q,ICQxQ,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,QCnB5BpE,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAYF,EAAIK,GAAIL,EAAIoE,eAAe,SAASC,EAAQ7D,GAAO,OAAON,EAAG,kBAAkB,CAACyB,IAAInB,EAAMsB,MAAM,CAAC,UAAYuC,IAAU,IAAG,EAC5M,EACIpD,EAAkB,G,UCStB,GACAC,KAAAA,gBACA+B,WAAAA,CACAkB,SAAAA,EACAG,cAAAA,EAAAA,GAEAnD,MAAAA,CACAiD,cAAAA,QClB+Q,ICO3Q,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,Q,oBCjBzB,SAASG,IACZ,OAAOC,EAAAA,EAAAA,GAAQ,CACXC,IAAK,aAEb,CACO,SAASC,EAAeC,GAC3B,OAAOH,EAAAA,EAAAA,GAAQ,CACXC,IAAI,eACJG,OAAQ,CACJD,YAGZ,CACO,SAASE,EAAiBC,EAAa1D,GAC1C,OAAOoD,EAAAA,EAAAA,GAAQ,CACXC,IAAK,sBACLG,OAAQ,CACJE,cACA1D,SAGZ,C,cCOA,GACAF,KAAAA,WACA+B,WAAAA,CACA8B,OAAAA,EAAAA,EACAC,aAAAA,EACAC,WAAAA,EACAC,cAAAA,EACAhC,OAAAA,EAAAA,EACAiC,WAAAA,EAAAA,GAEA7D,OACA,OACAS,WAAAA,GACAG,aAAAA,GACAvB,cAAAA,EACAyE,YAAAA,MAEA,EACAC,OAAAA,CAAAA,EAAAA,GACAC,UACA,mBAEA,EACAC,SAAAA,CACAnD,kBACA,gCACA,kDACA,EACAC,oBACA,gCACA,oDACA,iBAEA,GAKAd,QAAAA,CACAiE,eACAjB,IAAAA,MAAAA,IACAkB,QAAAA,IAAAA,GAEA,qCAEA,yCACA,sBACAtC,cAAAA,CAAAA,EACAuC,eAAAA,CACA,OACA,OACA,UAKA,0BAEA,EACAC,gBAAAA,GACA,oBACA,mCACAjB,EAAAA,GAAAA,MAAAA,IACAe,QAAAA,IAAAA,GACA,0CACA,yCACA,8BACA,8BACA,+BACAA,QAAAA,IAAAA,KAAAA,aAAAA,GAEA,EACAG,kBAAAA,GACA,uDACAH,QAAAA,IAAAA,GACAZ,EAAAA,EAAAA,GAAAA,MAAAA,IACA,yDACA,2CAEA,EACAgB,SAAAA,GACA,UACA,OACA,uBACA,MACA,OACA,uBACA,MACA,OACA,wBACA,MAEAJ,QAAAA,IAAAA,KAAAA,YACA,EACAzD,WAAAA,GACA,uBACA,EACAG,OAAAA,GACA,aAEA,kBACA,IClIiQ,ICQ7P,GAAY,OACd,EACApC,EACAkB,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,O","sources":["webpack://proj-mall/./src/components/common/tab-control/TabControl.vue","webpack://proj-mall/src/components/common/tab-control/TabControl.vue","webpack://proj-mall/./src/components/common/tab-control/TabControl.vue?b8ea","webpack://proj-mall/./src/components/common/tab-control/TabControl.vue?8e22","webpack://proj-mall/./src/views/category/Category.vue","webpack://proj-mall/./src/views/category/childCopms/CategoryMenu.vue","webpack://proj-mall/src/views/category/childCopms/CategoryMenu.vue","webpack://proj-mall/./src/views/category/childCopms/CategoryMenu.vue?ede2","webpack://proj-mall/./src/views/category/childCopms/CategoryMenu.vue?a496","webpack://proj-mall/./src/views/category/childCopms/MenuDetail.vue","webpack://proj-mall/./src/components/common/gridView/GridView.vue","webpack://proj-mall/src/components/common/gridView/GridView.vue","webpack://proj-mall/./src/components/common/gridView/GridView.vue?cd0c","webpack://proj-mall/./src/components/common/gridView/GridView.vue?1d92","webpack://proj-mall/src/views/category/childCopms/MenuDetail.vue","webpack://proj-mall/./src/views/category/childCopms/MenuDetail.vue?cf4c","webpack://proj-mall/./src/views/category/childCopms/MenuDetail.vue?f6a2","webpack://proj-mall/./src/views/category/childCopms/ContentDetail.vue","webpack://proj-mall/src/views/category/childCopms/ContentDetail.vue","webpack://proj-mall/./src/views/category/childCopms/ContentDetail.vue?f428","webpack://proj-mall/./src/views/category/childCopms/ContentDetail.vue?8e90","webpack://proj-mall/./src/network/category.js","webpack://proj-mall/src/views/category/Category.vue","webpack://proj-mall/./src/views/category/Category.vue?995a","webpack://proj-mall/./src/views/category/Category.vue?12f9"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tab-control\"},_vm._l((_vm.titles),function(item,index){return _c('div',{staticClass:\"tab-control-item\",class:{active:_vm.currentIndex === index},on:{\"click\":function($event){return _vm.itemClick(index)}}},[_c('span',[_vm._v(_vm._s(item))])])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tab-control\">\n    <div v-for=\"(item,index) in titles\" class=\"tab-control-item\" :class=\"{active:currentIndex === index}\" @click=\"itemClick(index)\">\n      <span>{{item}}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"TabControl\",\n  props:{\n    titles:{\n      type:Array,\n      default(){\n        return []\n      },\n    }\n  },\n  data(){\n    return {currentIndex:0}\n  },\n  methods:{\n    itemClick(index){\n      this.currentIndex = index\n      this.$emit('tabClick',index)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.tab-control{\n  display: flex;\n  text-align: center;\n  height: 40px;\n  line-height: 40px;\n  font-size: 14px;\n  background-color: #fff;\n}\n.tab-control-item{\n  flex: 1;\n}\n.tab-control-item span{\n  padding: 3px;\n}\n.active{\n  color: var(--color-high-text);\n}\n.active span{\n  border-bottom: 3px solid var(--color-tint);\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TabControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TabControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TabControl.vue?vue&type=template&id=34d78f7a&scoped=true&\"\nimport script from \"./TabControl.vue?vue&type=script&lang=js&\"\nexport * from \"./TabControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TabControl.vue?vue&type=style&index=0&id=34d78f7a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34d78f7a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('nav-bar',{staticClass:\"nav-bar\",scopedSlots:_vm._u([{key:\"center\",fn:function(){return [_vm._v(\"商品分类\")]},proxy:true}])}),_c('div',{staticClass:\"content\"},[_c('category-menu',{attrs:{\"categories\":_vm.categories},on:{\"selectItem\":_vm.selectItem}}),_c('scroll',{ref:\"scroll\",staticClass:\"tab-content\",attrs:{\"data\":[_vm.categoryData],\"probe-type\":3,\"observeDOM\":true,\"observe-image\":true},on:{\"scroll\":_vm.scroll}},[_c('div',[_c('menu-detail',{attrs:{\"subcategories\":_vm.showSubcategory}}),_c('content-detail',{attrs:{\"content-detail\":_vm.showContentDetail}})],1)])],1),_c('back-top',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTop),expression:\"showTop\"}],nativeOn:{\"click\":function($event){return _vm.backTop.apply(null, arguments)}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"menu\"},[_c('scroll',{ref:\"=scroll\",staticClass:\"content\",attrs:{\"observeDOM\":true,\"observe-image\":true}},_vm._l((_vm.categories),function(item,index){return _c('div',{key:index,staticClass:\"title\",class:{active:index===_vm.currentIndex},on:{\"click\":function($event){return _vm.titleClick(index)}}},[_vm._v(\" \"+_vm._s(item.title))])}),0)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"menu\">\n      <scroll ref=\"=scroll\" :observeDOM=\"true\" class=\"content\" :observe-image=\"true\">\n        <div v-for=\"(item,index) in categories\"\n        :key=\"index\"\n        class=\"title\"\n        :class='{active:index===currentIndex}'\n        @click=\"titleClick(index)\">\n          {{item.title}}</div>\n      </scroll>\n    </div>\n</template>\n\n<script>\nimport Scroll from \"@/components/common/scroll/Scroll\";\nexport default {\n  name: 'CategoryMenu',\n  components: {\n    Scroll\n  },\n  props: {\n    categories: Array\n  },\n  data() {\n    return {\n      currentIndex: 0\n    }\n  },\n  methods: {\n    titleClick (index) {\n      this.currentIndex = index\n      this.$emit('selectItem',index)\n    }\n  }\n  // activated() {\n  //   this.$refs.scroll.refresh()\n  // }\n}\n</script>\n\n<style scoped>\n.content {\n  /* height: calc(100vh - 44px - 49px); */\n  /* overflow: hidden; */\n    background: #f6f6f6;\n    height: 100%;\n    width: 100px;\n    box-sizing: border-box;\n}\n.menu {\n    width: 100px;\n    height: 100%;\n    text-align: center;\n    position: relative;\n    padding-bottom: 14px;\n    z-index: 999;\n}\n.title {\n    line-height: 45px;\n    /* text-align: center; */\n    font-size: 14px;\n    background: #f6f6f6;\n}\n.active {\n    background: #fff;\n    color: var(--color-high-text);\n    border-left: 3px solid var(--color-high-text);\n    font-weight: 700;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CategoryMenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CategoryMenu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryMenu.vue?vue&type=template&id=785fbcc4&scoped=true&\"\nimport script from \"./CategoryMenu.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryMenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoryMenu.vue?vue&type=style&index=0&id=785fbcc4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"785fbcc4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.subcategories.list)?_c('grid-view',{staticClass:\"grid\",attrs:{\"cols\":3,\"lineSpace\":15,\"v-margin\":20}},_vm._l((_vm.subcategories.list),function(item,index){return _c('div',{key:index,staticClass:\"menu-detail\"},[_c('a',{attrs:{\"href\":item.link}}),_c('img',{staticClass:\"image\",attrs:{\"src\":item.image,\"alt\":\"\"}}),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(item.title))])])}),0):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"gridView\",staticClass:\"grid-view\"},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"grid-view\" ref=\"gridView\">\r\n        <slot></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'GridView',\r\n  props: {\r\n      cols: {\r\n        type: Number,\r\n        default: 2\r\n      },\r\n      hMargin: {\r\n        type: Number,\r\n        default: 8\r\n      },\r\n      vMargin: {\r\n        type: Number,\r\n        default: 8\r\n      },\r\n      itemSpace: {\r\n        type: Number,\r\n        default: 8\r\n      },\r\n      lineSpace: {\r\n        type: Number,\r\n        default: 8\r\n      }\r\n    },\r\n    mounted () {\r\n      setTimeout(this._autoLayout, 20)\r\n    },\r\n    updated () {\r\n      this._autoLayout()\r\n    },\r\n    methods: {\r\n      _autoLayout() {\r\n        // 1.获取gridEl和children\r\n        // 注: 这里为什么不用document.querySelector呢?\r\n        // 答: 因为如果在项目中, 多处都用到了grid-view, 那么这里就不确定获取的是哪一个了.\r\n        let gridEl = this.$refs.gridView\r\n        let children = gridEl.children\r\n        // 2.设置gridEl的内边距\r\n        gridEl.style.padding = `${this.vMargin}px ${this.hMargin}px`\r\n        // 3.计算item的宽度\r\n        let itemWidth = (gridEl.clientWidth - 2 * this.hMargin - (this.cols) * this.itemSpace) / this.cols\r\n        for (let i = 0; i< children.length; i++) {\r\n          let item = children[i]\r\n          item.style.width = itemWidth + 'px'\r\n          if((i+1) % this.cols !== 0) {\r\n            item.style.marginRight = this.itemSpace + 'px'\r\n          }\r\n          if (i >= this.cols) {\r\n            item.style.marginTop = this.lineSpace + 'px'\r\n          }\r\n        }\r\n      }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.grid-view {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GridView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GridView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GridView.vue?vue&type=template&id=66dcb178&\"\nimport script from \"./GridView.vue?vue&type=script&lang=js&\"\nexport * from \"./GridView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./GridView.vue?vue&type=style&index=0&id=66dcb178&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n        <grid-view\n      :cols='3'\n      :lineSpace='15'\n      :v-margin='20'\n      v-if=\"subcategories.list\"\n      class=\"grid\">\n        <div v-for=\"(item,index) in subcategories.list\"\n        :key=\"index\"\n        class=\"menu-detail\">\n            <a :href=\"item.link\"></a>\n            <img :src=\"item.image\" alt=\"\" class=\"image\">\n            <div class=\"text\">{{item.title}}</div>\n        </div>\n      </grid-view>\n    </div>\n</template>\n\n<script>\nimport GridView from \"@/components/common/gridView/GridView\";\nexport default {\n  name: 'MenuDetail',\n  props: {\n    subcategories: Object\n  },\n  components: {\n    GridView\n  },\n}\n</script>\n\n<style scoped>\n.menu-detail {\n    /* width: 275px; */\n    text-align: center;\n    font-size: 12px;\n    /* position: relative; */\n}\n.grid {\n    width: 275px;\n    float: right;\n}\n.image {\n    width: 80%\n}\n.text {\n    margin-top: 15px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuDetail.vue?vue&type=template&id=6d375afc&scoped=true&\"\nimport script from \"./MenuDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuDetail.vue?vue&type=style&index=0&id=6d375afc&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d375afc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('grid-view',_vm._l((_vm.contentDetail),function(content,index){return _c('goods-list-item',{key:index,attrs:{\"goodsItem\":content}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n        <grid-view>\r\n            <goods-list-item v-for=\"(content,index) in contentDetail\" \r\n            :key=\"index\"\r\n            :goodsItem='content'/>\r\n        </grid-view>\r\n</template>\r\n\r\n<script>\r\nimport GridView from '@/components/common/gridView/GridView'\r\nimport GoodsListItem from '@/components/content/goods/GoodsListItem'\r\nexport default {\r\n  name: 'ContentDetail',\r\n  components: {\r\n      GridView,\r\n      GoodsListItem\r\n  },\r\n  props: {\r\n      contentDetail: Array\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ContentDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ContentDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContentDetail.vue?vue&type=template&id=352dad36&\"\nimport script from \"./ContentDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ContentDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {request} from './request'\r\nexport function getCategory(){\r\n    return request({\r\n        url: '/category'\r\n    })\r\n}\r\nexport function getsubcategory(maitKey) {\r\n    return request({\r\n        url:'/subcategory',\r\n        params: {\r\n            maitKey\r\n        }\r\n    })\r\n}\r\nexport function getContentDetail(miniWallkey, type){\r\n    return request({\r\n        url: '/subcategory/detail',\r\n        params: {\r\n            miniWallkey,\r\n            type\r\n        }\r\n    })\r\n}","<template>\n  <div class=\"wrapper\">\n    <nav-bar class=\"nav-bar\">\n      <template #center>商品分类</template>\n    </nav-bar>\n    <div class=\"content\">\n      <category-menu :categories='categories' @selectItem='selectItem'/>\n      <scroll class=\"tab-content\" :data='[categoryData]' ref=\"scroll\" :probe-type='3' @scroll=\"scroll\" :observeDOM=\"true\" :observe-image=\"true\">\n        <div>\n          <menu-detail :subcategories='showSubcategory'/>\n<!--          <tab-control :titles=\"['综合','新品','销量']\" @tabClick='tabClick'/>-->\n          <content-detail :content-detail='showContentDetail'/>\n        </div>\n      </scroll>\n    </div>\n    <back-top v-show=\"showTop\" @click.native=\"backTop\"></back-top>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"@/components/common/nav-bar/NavBar\";\nimport CategoryMenu from './childCopms/CategoryMenu'\nimport MenuDetail from './childCopms/MenuDetail'\nimport ContentDetail from './childCopms/ContentDetail'\nimport Scroll from \"@/components/common/scroll/Scroll\";\nimport TabControl from \"@/components/common/tab-control/TabControl\";\n\nimport {getCategory,getsubcategory,getContentDetail} from 'network/category.js'\nimport {backTopMixin} from 'common/mixin.js'\nexport default {\n  name: 'Category',\n  components: {\n    NavBar,\n    CategoryMenu,\n    MenuDetail,\n    ContentDetail,\n    Scroll,\n    TabControl\n  },\n  data(){\n      return {\n        categories: [],\n        categoryData: [],\n        currentIndex: -1,\n        currentType: 'pop'\n      }\n  },\n  mixins: [backTopMixin],\n  created () {\n    this._getCategory()\n    // this._getubcategory(0)\n  },\n  computed: {\n    showSubcategory () {\n      if(this.currentIndex === -1) return {}\n      return this.categoryData[this.currentIndex].subcategories\n    },\n    showContentDetail () {\n      if(this.currentIndex === -1) return []\n      return this.categoryData[this.currentIndex].categoryDetail[\n        this.currentType\n      ]\n    }\n  },\n  // activated() {\n  //   this.$refs.scroll.refresh()\n  // },\n  methods: {\n    _getCategory(){\n      getCategory().then(res => {\n      console.log(res);\n      // 1.获取分类数据\n      this.categories = res.data.category.list\n      // 2.初始化每个类别的子数据\n      for(let i=0; i<this.categories.length; i++) {\n        this.categoryData[i] = {\n          subcategories: {},\n          categoryDetail: {\n            'pop': [],\n            'new': [],\n            'sell': []\n          }\n        }\n      }\n    //   主数据请求到之后才能接着请求后面的子数据\n      this._getsubcategory(0)\n    })\n    },\n    _getsubcategory(index){\n        this.currentIndex = index\n        const mailKey = this.categories[index].maitKey\n        getsubcategory(mailKey).then(res => {\n          console.log(res);\n          this.categoryData[index].subcategories = res.data\n          this.categoryData = {...this.categoryData}\n          this._getContentDetail('pop')\n          this._getContentDetail('new')\n          this._getContentDetail('sell')\n          console.log(this.categoryData);\n    })\n    },\n    _getContentDetail(type) {\n      const miniWallkey = this.categories[this.currentIndex].miniWallkey;\n      console.log(miniWallkey);\n      getContentDetail(miniWallkey, type).then(res => {\n          this.categoryData[this.currentIndex].categoryDetail[type] = res\n          this.categoryData = {...this.categoryData}\n        })\n    },\n    tabClick (index) {\n      switch (index) {\n        case 0:\n          this.currentType = 'pop'\n          break\n        case 1:\n          this.currentType = 'new'\n          break\n        case 2:\n          this.currentType = 'sell'\n          break\n      }\n      console.log(this.currentType);\n    },\n    selectItem (index) {\n      this._getsubcategory(index)\n    },\n    scroll (position) {\n      const positionY = -position.y\n      // console.log(positionY);\n      this.showTop = positionY > 1000\n    }\n  }\n}\n</script>\n\n<style scoped>\n.wrapper {\n    /* background: chartreuse; */\n    height: 100vh;\n}\n.nav-bar {\n    background: var(--color-tint);\n    color: #fff;\n    font-weight: 700;\n}\n.content {\n  overflow: hidden;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 44px;\n  bottom: 49px;\n  display: flex;\n}\n.tab-content {\n  height: 100%;\n  flex: 1;\n  position: absolute;\n  left: 100px;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Category.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Category.vue?vue&type=template&id=599e5792&scoped=true&\"\nimport script from \"./Category.vue?vue&type=script&lang=js&\"\nexport * from \"./Category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Category.vue?vue&type=style&index=0&id=599e5792&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"599e5792\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_l","titles","item","index","class","active","currentIndex","on","$event","itemClick","_v","_s","staticRenderFns","name","props","type","default","data","methods","component","scopedSlots","_u","key","fn","proxy","attrs","categories","selectItem","ref","categoryData","scroll","showSubcategory","showContentDetail","directives","rawName","value","showTop","expression","nativeOn","backTop","apply","arguments","titleClick","title","components","Scroll","subcategories","list","link","image","_e","_t","cols","hMargin","vMargin","itemSpace","lineSpace","mounted","setTimeout","updated","_autoLayout","gridEl","GridView","contentDetail","content","GoodsListItem","getCategory","request","url","getsubcategory","maitKey","params","getContentDetail","miniWallkey","NavBar","CategoryMenu","MenuDetail","ContentDetail","TabControl","currentType","mixins","created","computed","_getCategory","console","categoryDetail","_getsubcategory","_getContentDetail","tabClick"],"sourceRoot":""}